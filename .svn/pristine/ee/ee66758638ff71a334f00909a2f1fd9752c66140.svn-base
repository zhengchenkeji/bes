package com.zc.connect.nettyClient.ClientHandlers;

import com.ruoyi.common.utils.spring.SpringUtils;
import com.zc.connect.analysis.AnalysisStrategyFactory;
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;
import org.springframework.stereotype.Component;

/**
 * @author Athena-YangChao
 * @description 客户端 回令处理类
 * 根据设备id找到当前产品--》拿到产品类别的协议
 * @date 2021/11/23/023
 * @apiNote
 */
@Component
public class ClientHandlersSuiDao {
    private static final Logger log = LoggerFactory.getLogger(ClientHandlersSuiDao.class);
    /**
     * 注入Context上下文类
     */
    private AnalysisStrategyFactory factory = SpringUtils.getBean(AnalysisStrategyFactory.class);
    /**
     * 回令业务处理
     * 解析
     */
    public void response_analysis(String msg){
        String data = String.valueOf(msg);
        log.info("解析1协议接收:" + data);

        // 开始调用策略
        factory.getImpl("AnalysisStrategy16").analysisStrategy("AnalysisStrategy16");

    }


}
